(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){t(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(e,l){t(1,arguments);var r=l||{},i=r.locale,c=i&&i.options&&i.options.weekStartsOn,d=null==c?0:o(c),a=null==r.weekStartsOn?d:o(r.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=n(e),u=s.getDay(),p=(u<a?7:0)+u-a;return s.setDate(s.getDate()-p),s.setHours(0,0,0,0),s}function r(e,n,o){t(2,arguments);var r=l(e,o),i=l(n,o);return r.getTime()===i.getTime()}function i(e,t,n,o){new E(e,t,n,o)}function c(){localStorage.setItem("allTodos",JSON.stringify(h))}function d(){localStorage.setItem("allProjects",JSON.stringify(v))}function a(){document.querySelector(".openFormBtn").addEventListener("click",(e=>{y.openNewTodoForm(),document.querySelector("#cancelBtn").addEventListener("click",(function(e){y.closeNewTodoForm()})),document.querySelector("#addBtn").addEventListener("click",(e=>{let t=document.querySelector("#titleInput").value,n=document.querySelector("#dateInput").value;""!=t&&""!=n?(i(t,n,"low","standard"),y.closeNewTodoForm(),y.displayOneTodo(t,n,"low"),s(),p(),c()):y.showValidationError()}))}))}function s(){document.querySelectorAll("#deleteBtn").forEach((e=>{e.addEventListener("click",(t=>{e.parentElement.classList.add("get-deleted"),function(){let e=document.querySelector(".get-deleted").firstElementChild.textContent;for(let t=0;t<h.length;t++)h[t].title==e&&(h.splice(t,1),console.log(h))}(),c(),y.deleteTodo()}))}))}function u(){document.querySelectorAll(".eachProjectsHeader").forEach((e=>{e.addEventListener("click",(t=>{y.vanishContent(),y.showOneProject(e.textContent),document.querySelector(".openFormBtn").addEventListener("click",(e=>{let t=document.querySelector(".projectHeader").textContent;y.openNewTodoForm(),document.querySelector("#cancelBtn").addEventListener("click",(function(e){y.closeNewTodoForm()})),document.querySelector("#addBtn").addEventListener("click",(e=>{let n=document.querySelector("#titleInput").value,o=document.querySelector("#dateInput").value,l="low";""!=n&&""!=o?(i(n,o,l,t),c(),y.closeNewTodoForm(),y.displayOneTodo(n,o,l),m(),s()):y.showValidationError()}))})),y.showOnlyProject(e.textContent),m()}))}))}function p(){document.querySelectorAll("#editBtn").forEach((e=>{e.addEventListener("click",(t=>{console.log(e.parentElement.firstChild.textContent),title=e.parentElement.firstChild.textContent;let n=function(e){for(let t=0;t<h.length;t++)if(h[t].title==e)return h[t]}(title);console.log(n),y.showEditForm();let o=document.querySelector("#titleEditInput");o.value=n.title;let l=document.querySelector("#dueDateInput");l.value=n.dueDate;let r=document.querySelector("#textDescriptionInput");r.value=n.textDescription,null==n.textDescription&&(r.value=" ");let i=document.querySelector("select");i.value=n.priority,document.querySelector("#AddBtn").addEventListener("click",(e=>{n.title=o.value,n.dueDate=l.value,n.textDescription=r.value,n.priority=i.value,y.closeEditForm(),p(),console.log(h),c()})),document.querySelector("#CancelBtn").addEventListener("click",(e=>{y.closeEditForm(),p()}))}))}))}function m(){document.querySelectorAll(".ProjectDeleteBtn").forEach((e=>{e.addEventListener("click",(t=>{let n=e.parentElement.parentElement.children[1].textContent;console.log(v,n),function(e){for(let t=0;t<v.length;t++)v[t]==e&&(v.splice(t,1),console.log(v))}(n),d(),e.parentElement.parentElement.parentElement.removeChild(e.parentElement.parentElement)}))}))}e.d({},{c8:()=>v,fy:()=>h,ys:()=>E}),document.querySelector("#today").addEventListener("click",(e=>{y.vanishContent(),y.showOnlyToday(),s(),p(),m()})),document.querySelector("#inbox").addEventListener("click",(e=>{y.vanishContent(),y.displayInboxUI(),y.displayEveryTodo(),a(),s(),p(),m()})),document.querySelector("#week").addEventListener("click",(e=>{y.vanishContent(),y.showOnlyWeek(),s(),p(),m()})),document.querySelector("#projects").addEventListener("click",(e=>{y.vanishContent(),y.displayProjectUI(),document.querySelector(".openProjectsFormBtn").addEventListener("click",(e=>{y.openProjectsForm(),document.querySelector("#addBtn").addEventListener("click",(e=>{let t=document.querySelector("#titleInput");y.addProject(t.value),function(e){v.push(e)}(t.value),d(),u(),m()})),document.querySelector("#cancelBtn").addEventListener("click",(()=>{y.closeProjectForm()}))})),p(),m()}));class y{static displayInboxUI(){let e=document.querySelector(".content"),t=document.createElement("h2");t.textContent="Inbox",e.appendChild(t);let n=document.createElement("div");n.classList.add("openFormBtn"),n.innerHTML='<span class="material-icons-outlined" id="newTodoLogo">add</span>',e.appendChild(n)}static openNewTodoForm(){let e=document.getElementsByClassName("InputFormContainer");if(console.log(e.length),e.length>0)return;let t=document.querySelector(".content"),n=document.querySelector(".openFormBtn"),o=document.createElement("div");o.classList.add("InputFormContainer"),o.innerHTML='<div class="inputForm">\n                                    <label  for="title">Title: </label>\n                                    <input id="titleInput" type="text">\n                                    <label for="dueDate">Due Date: </label>\n                                    <input id="dateInput" type="date">\n                                 \n                                    <input type="button" value="Add" id="addBtn">\n                                    <input type="button" value="Cancel" id="cancelBtn">\n                                </div>',t.insertBefore(o,n)}static closeNewTodoForm(){let e=document.querySelector(".inputForm");e.parentElement.removeChild(e)}static displayOneTodo(e,t,n){let o=document.querySelector(".content"),l=document.createElement("div");l.classList.add("eachTodo");let r=document.createElement("p");r.setAttribute("id","title"),r.textContent=e;let i=document.createElement("p");i.setAttribute("id","date"),i.textContent=`Due: ${t}`;let c=document.createElement("div");c.setAttribute("id","editBtn"),c.innerHTML='<span class="material-icons-outlined">edit</span>';let d=document.createElement("div");switch(d.setAttribute("id","deleteBtn"),d.innerHTML='<span class="material-icons-outlined">delete</span>',l.appendChild(r),l.appendChild(i),l.appendChild(c),l.appendChild(d),o.appendChild(l),n){case"low":l.classList.add("lowPriority");break;case"medium":l.classList.add("mediumPriority");break;case"high":l.classList.add("highPriority")}p()}static deleteTodo(){let e=document.querySelector(".get-deleted");e.parentElement.removeChild(e)}static showValidationError(){let e=document.querySelector(".content"),t=document.querySelector(".InputFormContainer"),n=document.createElement("div");n.innerHTML='<div class="validationError">\n                                 <p>Please fill in every form!</p>\n                            </div>',e.insertBefore(n,t),setTimeout((function(){e.removeChild(n)}),3e3)}static vanishContent(){document.querySelector(".content").innerHTML=""}static displayEveryTodo(){h.forEach((e=>{this.displayOneTodo(e.title,e.dueDate,e.priority)}))}static showOnlyToday(){let e=document.querySelector(".content"),t=document.createElement("h2");t.textContent="Today",e.appendChild(t),h.forEach((e=>{(new Date).toISOString().slice(0,10)==e.dueDate&&this.displayOneTodo(e.title,e.dueDate,e.priority)}))}static showOnlyWeek(){let e=document.querySelector(".content"),n=document.createElement("h2");n.textContent="This week",e.appendChild(n),h.forEach((e=>{let n=e.dueDate.slice(0,4),o=e.dueDate.slice(5,7)-1,l=e.dueDate.slice(8,10);(function(e,n){return t(1,arguments),r(e,Date.now(),n)})(new Date(n,o,l))&&this.displayOneTodo(e.title,e.dueDate,e.priority)}))}static showOnlyProject(e){h.forEach((t=>{t.project==e&&this.displayOneTodo(t.title,t.dueDate,t.priority)}))}static displayProjectUI(){let e=document.querySelector(".content"),t=document.createElement("h2");t.textContent="Projects",e.appendChild(t);let n=document.createElement("div");n.classList.add("openProjectsFormBtn"),n.innerHTML='<span class="material-icons-outlined" id="newTodoLogo">add</span>',e.appendChild(n)}static openProjectsForm(){let e=document.querySelector(".content"),t=document.querySelector(".openProjectsFormBtn"),n=document.createElement("div");n.classList.add("projectFormContainer"),n.innerHTML='<div class="projectForm">\n                                    <label  for="title">Title: </label>\n                                    <input id="titleInput" type="text">\n                                    <input type="button" value="Add" id="addBtn">\n                                    <input type="button" value="Cancel" id="cancelBtn">\n                                </div>',e.insertBefore(n,t)}static addProject(e){console.log(e);let t=document.querySelector(".sidebar"),n=document.createElement("div");n.classList.add("eachProject");let o=document.createElement("div");o.innerHTML=`<div class="eachProjectsHeader">${e}</div>`;let l=document.createElement("div");l.innerHTML='<div class="eachProjectsLogo"><span class="material-icons" id="projectSidebarLogo">list</span></div>';let r=document.createElement("div");r.innerHTML='<div class="ProjectDeleteBtn"> <span class="material-icons-outlined" id="deleteLogo">delete</span></div>',n.appendChild(l),n.appendChild(o),n.appendChild(r),t.appendChild(n)}static showAllProjects(){console.log(v),v.forEach((e=>{y.addProject(e)}))}static closeProjectForm(){let e=document.querySelector(".projectForm");e.parentElement.removeChild(e)}static showOneProject(e){let t=document.querySelector(".content"),n=document.createElement("h3");n.classList.add("projectHeader"),n.textContent=e,t.appendChild(n);let o=document.createElement("div");o.classList.add("openFormBtn"),o.innerHTML='<span class="material-icons-outlined" id="newTodoLogo">add</span>',t.appendChild(o)}static showEditForm(){y.vanishContent();let e=document.querySelector(".content"),t=document.createElement("div");t.innerHTML='<div class="expandTodo">\n            <label for="title">Title: </label>\n            <input id="titleEditInput" type="text">\n            <label for="dueDate">Due Date: </label>\n            <input id="dueDateInput" type="date">\n\n            <label for="textDescription">Text Description: </label>\n            <input id="textDescriptionInput" type="text">\n            <label for="priority">Priority: </label>\n            <div class="selectWrapper">\n                <select id="select">\n                <option>high</option>\n                <option>medium</option>\n                <option>low</option>\n                </select>\n            </div>\n            <div class="addAndCancelContainer">\n                <input type="button" value="Add" id="AddBtn">\n                <input type="button" value="Cancel" id="CancelBtn">\n            </div>\n        </div>',e.appendChild(t)}static closeEditForm(){document.querySelector(".expandTodo").innerHTML="",this.vanishContent(),y.displayInboxUI(),this.vanishSidebar(),y.displayEveryTodo(),y.showAllProjects(),a(),v.length>=1&&u(),s(),p()}static vanishSidebar(){document.querySelectorAll(".eachProject").forEach((e=>{e.parentElement.removeChild(e)}))}}let h=[],v=[];class E{constructor(e,t,n,o,l){this.title=e,this.dueDate=t,this.priority=n,this.project=o,this.textDescripion=l,h.push(this)}}null!=JSON.parse(localStorage.getItem("allTodos"))&&(h=JSON.parse(localStorage.getItem("allTodos"))),null!=JSON.parse(localStorage.getItem("allProjects"))&&(v=JSON.parse(localStorage.getItem("allProjects"))),0==h.length&&0==v.length?(y.displayInboxUI(),a()):(y.displayInboxUI(),y.displayEveryTodo(),y.showAllProjects(),a(),v.length>=1&&u(),m(),s(),p())})();